"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[812],{18812:function(e,n,i){i.r(n),i.d(n,{default:function(){return te}});var t=i(29439),r=i(1413),s=i(45987),a=i(72791),l=i(39124),o=i(43896),c=i(20890),d=i(64554),u=i(3364),p=i(74165),x=i(15861),h=i(93433),Z=i(6907),j=i(13967),f=i(53767),m=i(48550),g=i(79836),v=i(53382),b=i(53994),P=i(39281),y=i(68582),I=i(63033),S=i(35855),w=i(56890),k=i(27247),C=i(33557),D=i(35527),E=i(13400),O=i(12715),N=i(41133),M=i(5397),R=i(10111),H=i(36151),_=i(61044),q=i(43649),A=i(61269),L=(i(96344),i(91614)),U=i(9955),F=i(61134),V=i(28534),W=i(48278),B=i(8716),T=i(88874),Y=i(80184);var K=function(e){var n=e.inserdata,i=e.recordForEdit,s=e.setOpenPopup,l=(0,F.cI)({mode:"onBlur"}),o=l.register,c=l.handleSubmit,u=l.formState.errors,h=((0,V.K$)().themeStretch,(0,a.useState)([])),Z=(0,t.Z)(h,2),j=(Z[0],Z[1]),g=function(){var e=(0,x.Z)((0,p.Z)().mark((function e(){var n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"Titles",e.next=4,_.Z.get(q.R.API_URL+"Titles");case 4:n=e.sent,j(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){g()}),[]);var v=(0,a.useState)({isOpen:!1,message:"",type:""}),b=(0,t.Z)(v,2),P=b[0],y=b[1],I={name:{required:"Name is required"},email:{required:"Email is required"},password:{required:"Password is required",minLength:{value:8,message:"Password must have at least 8 characters"}}};function S(e){console.log(e),n(e)}function w(e){}return(0,Y.jsx)(L.Z,{maxWidth:"sm",sx:{margin:0},children:(0,Y.jsxs)(d.Z,{sx:{padding:"10px",borderRadius:"10px"},children:[(0,Y.jsxs)("form",{onSubmit:c(S,w),children:[(0,Y.jsxs)(f.Z,{direction:"row",spacing:2,children:[(0,Y.jsx)(d.Z,{flex:2,children:(0,Y.jsx)(m.Z,(0,r.Z)({required:!0,id:"employeeID",label:"Employee Id",name:"employeeID",sx:{width:"238px"},defaultValue:i.employeeID},o("employeeID",I.employeeID)))}),(0,Y.jsx)(d.Z,{flex:2,children:(0,Y.jsx)(m.Z,(0,r.Z)({required:!0,id:"fullName",label:"Full name",sx:{width:"238px"},name:"fullName",defaultValue:i.fullName},o("fullName",I.fullName)))})]}),(0,Y.jsx)("br",{}),(0,Y.jsxs)(f.Z,{direction:"row",spacing:2,children:[(0,Y.jsx)(d.Z,{flex:2,children:(0,Y.jsx)(m.Z,(0,r.Z)({required:!0,id:"date",label:"Hire date",sx:{width:"238px"},type:"date",defaultValue:new Date(i.hireDate).toISOString().slice(0,10),InputLabelProps:{shrink:!0}},o("hireDate")))}),(0,Y.jsx)(d.Z,{flex:2,children:(0,Y.jsx)(W.Z,{register:o,errors:u,defaultValue:i.possitionId})})]}),(0,Y.jsx)("br",{}),(0,Y.jsxs)(f.Z,{direction:"row",spacing:2,children:[(0,Y.jsx)(d.Z,{flex:4,children:(0,Y.jsx)(B.Z,{register:o,errors:u,defaultValue:i.officelocation})}),(0,Y.jsxs)(d.Z,{flex:2,children:["Is manager",(0,Y.jsx)(U.Z,(0,r.Z)((0,r.Z)({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:i.isManager},o("isManager")))]})]}),(0,Y.jsx)("br",{}),(0,Y.jsx)(H.Z,{variant:"contained",onClick:c(S,w),children:"Save"}),(0,Y.jsx)(H.Z,{onClick:function(){s(!1)},children:"Cancel"})]}),(0,Y.jsx)(T.Z,{notify:P,setNotify:y})]})})};function $(e){var n=(0,j.Z)(),i=e.count,t=e.page,r=e.rowsPerPage,s=e.onPageChange;return(0,Y.jsxs)(d.Z,{sx:{flexShrink:0,ml:2.5},children:[(0,Y.jsx)(E.Z,{onClick:function(e){s(e,0)},disabled:0===t,"aria-label":"first page",children:"rtl"===n.direction?(0,Y.jsx)(R.Z,{}):(0,Y.jsx)(O.Z,{})}),(0,Y.jsx)(E.Z,{onClick:function(e){s(e,t-1)},disabled:0===t,"aria-label":"previous page",children:"rtl"===n.direction?(0,Y.jsx)(M.Z,{}):(0,Y.jsx)(N.Z,{})}),(0,Y.jsx)(E.Z,{onClick:function(e){s(e,t+1)},disabled:t>=Math.ceil(i/r)-1,"aria-label":"next page",children:"rtl"===n.direction?(0,Y.jsx)(N.Z,{}):(0,Y.jsx)(M.Z,{})}),(0,Y.jsx)(E.Z,{onClick:function(e){s(e,Math.max(0,Math.ceil(i/r)-1))},disabled:t>=Math.ceil(i/r)-1,"aria-label":"last page",children:"rtl"===n.direction?(0,Y.jsx)(O.Z,{}):(0,Y.jsx)(R.Z,{})})]})}function z(){var e=a.useState(0),n=(0,t.Z)(e,2),i=n[0],r=n[1],s=a.useState(5),l=(0,t.Z)(s,2),o=l[0],c=l[1],j=(0,a.useState)([]),E=(0,t.Z)(j,2),O=E[0],N=E[1],M=(0,a.useState)(null),R=(0,t.Z)(M,2),L=R[0],U=R[1],F=(0,a.useState)({isOpen:!1,message:"",type:""}),V=(0,t.Z)(F,2),W=V[0],B=V[1],z=(0,a.useState)(!1),G=(0,t.Z)(z,2),J=G[0],Q=G[1],X=(0,a.useState)(!1),ee=(0,t.Z)(X,2),ne=ee[0],ie=ee[1],te=(0,a.useState)(""),re=(0,t.Z)(te,2),se=(re[0],re[1],(0,a.useState)("")),ae=(0,t.Z)(se,2),le=ae[0],oe=ae[1],ce=i>0?Math.max(0,(1+i)*o-O.length):0,de=function(){var e=(0,x.Z)((0,p.Z)().mark((function e(){var n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"Employee",e.next=4,_.Z.get(q.R.API_URL+"Employee");case 4:n=e.sent,N(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){de()}),[]);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Z.ql,{children:(0,Y.jsx)("title",{children:" HR - Hires"})}),(0,Y.jsxs)(P.Z,{component:D.Z,children:[(0,Y.jsxs)(f.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[(0,Y.jsx)(H.Z,{variant:"outlined",onClick:function(){return ie(!0)},alignItems:"right",children:"Hire"}),(0,Y.jsx)(d.Z,{sx:{display:"flex",alignItems:"flex-end"},children:(0,Y.jsx)(m.Z,{id:"standard-basic",label:"Search Employee",variant:"standard",placeholder:"Search",value:le,onInput:function(e){return function(e){if(""===e.target.value)de();else{var n=O.filter((function(n){return n.fullName.toLowerCase().includes(e.target.value.toLowerCase())}));N(n)}oe(e.target.value)}(e)}})})]}),(0,Y.jsxs)(g.Z,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[(0,Y.jsx)(w.Z,{children:(0,Y.jsxs)(S.Z,{children:[(0,Y.jsx)(b.Z,{children:"ID"}),(0,Y.jsx)(b.Z,{children:"Name"}),(0,Y.jsx)(b.Z,{children:"Hire date"}),(0,Y.jsx)(b.Z,{children:"Position"}),(0,Y.jsx)(b.Z,{children:"Office"}),(0,Y.jsx)(b.Z,{children:"Is Manager"}),(0,Y.jsx)(b.Z,{children:"Edit"}),(0,Y.jsx)(b.Z,{children:"Delete"})]})}),(0,Y.jsxs)(v.Z,{children:[(o>0?O.slice(i*o,i*o+o):O).map((function(e){return(0,Y.jsxs)(S.Z,{children:[(0,Y.jsx)(b.Z,{component:"th",scope:"row",children:e.employeeID}),(0,Y.jsx)(b.Z,{children:e.fullName}),(0,Y.jsx)(b.Z,{children:e.hireDate}),(0,Y.jsx)(b.Z,{children:e.possitionId}),(0,Y.jsx)(b.Z,{children:e.officelocation}),(0,Y.jsx)(b.Z,{children:e.isManager?"Yes":"No"}),(0,Y.jsx)(b.Z,{children:(0,Y.jsx)(H.Z,{variant:"outlined",onClick:function(){return function(e){U(e),Q(!0)}(e)},startIcon:(0,Y.jsx)(C.Z,{})})}),(0,Y.jsx)(b.Z,{children:(0,Y.jsx)(H.Z,{variant:"outlined",onClick:function(){return function(e){var n="employee/".concat(e.employeeID);_.Z.delete(q.R.API_URL+n).then((function(n){var i=(0,h.Z)(O),t=e.tableData.id;i.splice(t,1),N((0,h.Z)(i)),B({isOpen:!0,message:"Sucessfully Deleted",type:"error"})})).catch((function(e){console.log("Error")}))}(e)},startIcon:(0,Y.jsx)(k.Z,{}),color:"error"})})]},e.employeeID)})),ce>0&&(0,Y.jsx)(S.Z,{style:{height:53*ce},children:(0,Y.jsx)(b.Z,{colSpan:6})})]}),(0,Y.jsx)(y.Z,{children:(0,Y.jsx)(S.Z,{children:(0,Y.jsx)(I.Z,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:O.length,rowsPerPage:o,page:i,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,n){r(n)},onRowsPerPageChange:function(e){c(parseInt(e.target.value,10)),r(0)},ActionsComponent:$})})})]})]}),(0,Y.jsx)(A.Z,{openPopup:J,setOpenPopup:Q,title:"Edit Hire",children:(0,Y.jsx)(K,{recordForEdit:L,inserdata:function(e){console.log(e);_.Z.put(q.R.API_URL+"employee",{employeeID:e.employeeID,fullName:e.fullName,hireDate:e.hireDate,possitionId:e.possitionId,isManager:e.isManager,officelocation:e.officelocation}).then((function(e){B({isOpen:!0,message:"Updated Successfully",type:"success"}),Q(!1)})).catch((function(e){console.log("Hello")}))},setOpenPopup:Q})}),(0,Y.jsx)(A.Z,{openPopup:ne,setOpenPopup:ie,title:"New Hire",children:(0,Y.jsx)(u.Z,{insernewdata:function(e){_.Z.post(q.R.API_URL+"employee",{fullName:e.fullName,hireDate:e.hireDate,possitionId:e.possitionId,isManager:e.isManager,officelocation:e.officelocation}).then((function(e){B({isOpen:!0,message:"Employee hired",type:"success"}),ie(!1)})).catch((function(e){console.log("Hello errors"),B({isOpen:!0,message:"Employee not hired",type:"error"})}))},setOpenPopup2:ie})}),(0,Y.jsx)(T.Z,{notify:W,setNotify:B})]})}var G=i(85043);function J(e){var n=(0,j.Z)(),i=e.count,t=e.page,r=e.rowsPerPage,s=e.onPageChange;return(0,Y.jsxs)(d.Z,{sx:{flexShrink:0,ml:2.5},children:[(0,Y.jsx)(E.Z,{onClick:function(e){s(e,0)},disabled:0===t,"aria-label":"first page",children:"rtl"===n.direction?(0,Y.jsx)(R.Z,{}):(0,Y.jsx)(O.Z,{})}),(0,Y.jsx)(E.Z,{onClick:function(e){s(e,t-1)},disabled:0===t,"aria-label":"previous page",children:"rtl"===n.direction?(0,Y.jsx)(M.Z,{}):(0,Y.jsx)(N.Z,{})}),(0,Y.jsx)(E.Z,{onClick:function(e){s(e,t+1)},disabled:t>=Math.ceil(i/r)-1,"aria-label":"next page",children:"rtl"===n.direction?(0,Y.jsx)(N.Z,{}):(0,Y.jsx)(M.Z,{})}),(0,Y.jsx)(E.Z,{onClick:function(e){s(e,Math.max(0,Math.ceil(i/r)-1))},disabled:t>=Math.ceil(i/r)-1,"aria-label":"last page",children:"rtl"===n.direction?(0,Y.jsx)(O.Z,{}):(0,Y.jsx)(R.Z,{})})]})}function Q(){var e=a.useState(0),n=(0,t.Z)(e,2),i=n[0],r=n[1],s=a.useState(5),l=(0,t.Z)(s,2),o=l[0],c=l[1],d=(0,a.useState)([]),h=(0,t.Z)(d,2),j=h[0],f=h[1],m=(0,a.useState)({}),k=(0,t.Z)(m,2),E=k[0],O=k[1],N=(0,a.useState)({isOpen:!1,message:"",type:""}),M=(0,t.Z)(N,2),R=M[0],L=M[1],U=(0,a.useState)(!1),F=(0,t.Z)(U,2),V=F[0],W=F[1],B=(0,a.useState)(!1),K=(0,t.Z)(B,2),$=K[0],z=K[1],Q=function(){var e=(0,x.Z)((0,p.Z)().mark((function e(){var n;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"Employee",e.next=4,_.Z.get(q.R.API_URL+"Employee");case 4:n=e.sent,f(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){Q()}),[]);var X=i>0?Math.max(0,(1+i)*o-j.length):0;return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Z.ql,{children:(0,Y.jsx)("title",{children:" HR - Hires"})}),(0,Y.jsx)(P.Z,{component:D.Z,children:(0,Y.jsxs)(g.Z,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[(0,Y.jsx)(w.Z,{children:(0,Y.jsxs)(S.Z,{children:[(0,Y.jsx)(b.Z,{children:"Edit"}),(0,Y.jsx)(b.Z,{children:"ID"}),(0,Y.jsx)(b.Z,{children:"Name"}),(0,Y.jsx)(b.Z,{children:"Hire date"}),(0,Y.jsx)(b.Z,{children:"Position"}),(0,Y.jsx)(b.Z,{children:"Office"}),(0,Y.jsx)(b.Z,{children:"Is Manager"})]})}),(0,Y.jsxs)(v.Z,{children:[(o>0?j.slice(i*o,i*o+o):j).map((function(e){return(0,Y.jsxs)(S.Z,{children:[(0,Y.jsx)(b.Z,{children:(0,Y.jsx)(H.Z,{variant:"outlined",onClick:function(){return function(e){O(e),W(!0)}(e)},startIcon:(0,Y.jsx)(C.Z,{})})}),(0,Y.jsx)(b.Z,{component:"th",scope:"row",children:e.employeeID}),(0,Y.jsx)(b.Z,{children:e.fullName}),(0,Y.jsx)(b.Z,{children:e.hireDate}),(0,Y.jsx)(b.Z,{children:e.possitionId}),(0,Y.jsx)(b.Z,{children:e.officelocation}),(0,Y.jsx)(b.Z,{children:e.isManager?"Yes":"No"})]},e.employeeID)})),X>0&&(0,Y.jsx)(S.Z,{style:{height:53*X},children:(0,Y.jsx)(b.Z,{colSpan:6})})]}),(0,Y.jsx)(y.Z,{children:(0,Y.jsx)(S.Z,{children:(0,Y.jsx)(I.Z,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:j.length,rowsPerPage:o,page:i,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,n){r(n)},onRowsPerPageChange:function(e){c(parseInt(e.target.value,10)),r(0)},ActionsComponent:J})})})]})}),(0,Y.jsx)(A.Z,{openPopup:V,setOpenPopup:W,title:"Set Profile",children:(0,Y.jsx)(G.Z,{recordForEdit:E,inserdata:function(e){_.Z.post(q.R.API_URL+"Profile",e).then((function(e){L({isOpen:!0,message:"Employee profile added",type:"success"})})).catch((function(e){console.log("Hello errors"),L({isOpen:!0,message:"Employee profile save failed",type:"error"})}))},setOpenPopup:W})}),(0,Y.jsx)(A.Z,{openPopup:$,setOpenPopup:z,title:"New Hire",children:(0,Y.jsx)(u.Z,{setOpenPopup2:z})}),(0,Y.jsx)(T.Z,{notify:R,setNotify:L})]})}var X=i(9999),ee=["children","value","index"];function ne(e){var n=e.children,i=e.value,t=e.index,a=(0,s.Z)(e,ee);return(0,Y.jsx)("div",(0,r.Z)((0,r.Z)({role:"tabpanel",hidden:i!==t,id:"simple-tabpanel-".concat(t),"aria-labelledby":"simple-tab-".concat(t)},a),{},{children:i===t&&(0,Y.jsx)(d.Z,{sx:{p:3},children:(0,Y.jsx)(c.Z,{children:n})})}))}function ie(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function te(){var e=a.useState(0),n=(0,t.Z)(e,2),i=n[0],s=n[1],u=a.useState(0),p=(0,t.Z)(u,2),x=(p[0],p[1]);return(0,Y.jsxs)(d.Z,{sx:{width:"100%"},children:[(0,Y.jsx)(c.Z,{variant:"h4",component:"h1",paragraph:!0,children:"Employee"}),(0,Y.jsx)(d.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,Y.jsxs)(l.Z,{value:i,onChange:function(e,n){s(n)},"aria-label":"basic tabs example",children:[(0,Y.jsx)(o.Z,(0,r.Z)({label:"Hire"},ie(0))),(0,Y.jsx)(o.Z,(0,r.Z)({label:"Update Profile"},ie(1))),(0,Y.jsx)(o.Z,(0,r.Z)({label:"Existing Profiles"},ie(2)))]})}),(0,Y.jsx)(ne,{value:i,index:0,children:(0,Y.jsx)(z,{hireId:x})}),(0,Y.jsx)(ne,{value:i,index:1,children:(0,Y.jsx)(Q,{})}),(0,Y.jsx)(ne,{value:i,index:2,children:(0,Y.jsx)(X.default,{})})]})}}}]);
//# sourceMappingURL=812.448fb3c8.chunk.js.map